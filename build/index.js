!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=51)}([function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t){e.exports=function(e){return JSON.parse(JSON.stringify(e))}},function(e,t,r){try{var n=r(5);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(116)}},function(e,t){var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString;e.exports=function(e,t,o){if("[object Function]"!==n.call(t))throw new TypeError("iterator must be a function");var s=e.length;if(s===+s)for(var i=0;i<s;i++)t.call(o,e[i],i,e);else for(var a in e)r.call(e,a)&&t.call(o,e[a],a,e)}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t){e.exports=require("util")},function(e,t,r){"use strict";var n=r(2);function o(e,t){var n=r(3),o=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):o.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name="AlgoliaSearchError",this.message=e||"Unknown error",t&&n(t,function(e,t){o[t]=e})}function s(e,t){function r(){var r=Array.prototype.slice.call(arguments,0);"string"!=typeof r[0]&&r.unshift(t),o.apply(this,r),this.name="AlgoliaSearch"+e+"Error"}return n(r,o),r}n(o,Error),e.exports={AlgoliaSearchError:o,UnparsableJSON:s("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:s("RequestTimeout","Request timedout before getting a response"),Network:s("Network","Network issue, see err.more for details"),JSONPScriptFail:s("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:s("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:s("Unknown","Unknown error occured")}},function(e,t,r){var n=r(3);e.exports=function(e,t){var r=[];return n(e,function(n,o){r.push(t(n,o,e))}),r}},function(e,t){e.exports=require("https")},function(e,t,r){var n=r(56);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t,r){"undefined"!=typeof process&&"renderer"===process.type?e.exports=r(110):e.exports=r(112)},function(e,t){e.exports=require("events")},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){var n=r(14);e.exports=function(e){return null!=e&&e.length?n(e,1):[]}},function(e,t,r){var n=r(32),o=r(66);e.exports=function e(t,r,s,i,a){var c=-1,u=t.length;for(s||(s=o),a||(a=[]);++c<u;){var l=t[c];r>0&&s(l)?r>1?e(l,r-1,s,i,a):n(a,l):i||(a[a.length]=l)}return a}},function(e,t){e.exports=require("net")},function(e,t){e.exports=function(e,t){var r=!1;return function(){return r||(console.warn(t),r=!0),e.apply(this,arguments)}}},function(e,t){e.exports=function(e,t){return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-javascript/wiki/Deprecated#"+e.toLowerCase().replace(/[\.\(\)]/g,"")}},function(e,t){e.exports=require("http")},function(e,t,r){"use strict";var n,o=r(5),s=0===process.version.indexOf("v0.10.");n=s?function(){process.env.NODE_DEBUG&&/agentkeepalive/.test(process.env.NODE_DEBUG)&&console.log.apply(console.log,arguments)}:o.debuglog("agentkeepalive"),t.debug=n,t.isNode10=s,t.inherits=o.inherits},function(e,t,r){var n=r(53),o=r(23);e.exports=function(e){return null==e?[]:n(e,o(e))}},function(e,t,r){var n=r(22),o=r(12),s="[object AsyncFunction]",i="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=n(e);return t==i||t==a||t==s||t==c}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){var n=r(24)(Object.keys,Object);e.exports=n},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(55),o=r(9),s=r(58),i=r(31),a=r(33),c=i(function(e,t){return n(t,function(t){t=a(t),o(e,t,s(e[t],e))}),e});e.exports=c},function(e,t,r){var n=r(59),o=r(27),s=r(29);e.exports=function(e,t){return s(o(e,t,n),e+"")}},function(e,t,r){var n=r(28),o=Math.max;e.exports=function(e,t,r){return t=o(void 0===t?e.length-1:t,0),function(){for(var s=arguments,i=-1,a=o(s.length-t,0),c=Array(a);++i<a;)c[i]=s[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=s[i];return u[t]=r(c),n(e,this,u)}}},function(e,t){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e,t){e.exports=function(e){return e}},function(e,t,r){var n=r(63),o="object"==typeof self&&self&&self.Object===Object&&self,s=n||o||Function("return this")();e.exports=s},function(e,t,r){var n=r(13),o=r(27),s=r(29);e.exports=function(e){return s(o(e,void 0,n),e+"")}},function(e,t){e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},function(e,t){e.exports=function(e){return e}},function(e,t,r){var n=r(71),o=r(72),s=r(73),i=Math.ceil,a=Math.max;e.exports=function(e,t,r){t=(r?o(e,t,r):void 0===t)?1:a(s(t),0);var c=null==e?0:e.length;if(!c||t<1)return[];for(var u=0,l=0,p=Array(i(c/t));u<c;)p[l++]=n(e,u,u+=t);return p}},function(e,t){e.exports=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){var n=r(4);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return n(e)?e:[e]}},function(e,t){e.exports=require("crypto")},function(e,t,r){"use strict";e.exports=((e,t,r)=>new Promise((n,o)=>{if(r=Object.assign({concurrency:1/0},r),"function"!=typeof t)throw new TypeError("Mapper function is required");const s=r.concurrency;if(!("number"==typeof s&&s>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${s}\` (${typeof s})`);const i=[],a=e[Symbol.iterator]();let c=!1,u=!1,l=0,p=0;const f=()=>{if(c)return;const e=a.next(),r=p;if(p++,e.done)return u=!0,void(0===l&&n(i));l++,Promise.resolve(e.value).then(e=>t(e,r)).then(e=>{i[r]=e,l--,f()},e=>{c=!0,o(e)})};for(let e=0;e<s&&(f(),!u);e++);}))},function(e,t,r){var n;function o(e){function r(){if(r.enabled){var e=r,o=+new Date,s=o-(n||o);e.diff=s,e.prev=n,e.curr=o,n=o;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;c++;var o=t.formatters[n];if("function"==typeof o){var s=i[c];r=o.call(e,s),i.splice(c,1),c--}return r}),t.formatArgs.call(e,i),(r.log||t.log||console.log.bind(console)).apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(r),r}(t=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&("-"===(e=r[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(111),t.names=[],t.skips=[],t.formatters={}},function(e,t){var r;t=e.exports=J,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,s=t.re=[],i=t.src=[],a=0,c=a++;i[c]="0|[1-9]\\d*";var u=a++;i[u]="[0-9]+";var l=a++;i[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var p=a++;i[p]="("+i[c]+")\\.("+i[c]+")\\.("+i[c]+")";var f=a++;i[f]="("+i[u]+")\\.("+i[u]+")\\.("+i[u]+")";var h=a++;i[h]="(?:"+i[c]+"|"+i[l]+")";var d=a++;i[d]="(?:"+i[u]+"|"+i[l]+")";var y=a++;i[y]="(?:-("+i[h]+"(?:\\."+i[h]+")*))";var m=a++;i[m]="(?:-?("+i[d]+"(?:\\."+i[d]+")*))";var v=a++;i[v]="[0-9A-Za-z-]+";var g=a++;i[g]="(?:\\+("+i[v]+"(?:\\."+i[v]+")*))";var b=a++,x="v?"+i[p]+i[y]+"?"+i[g]+"?";i[b]="^"+x+"$";var w="[v=\\s]*"+i[f]+i[m]+"?"+i[g]+"?",k=a++;i[k]="^"+w+"$";var _=a++;i[_]="((?:<|>)?=?)";var S=a++;i[S]=i[u]+"|x|X|\\*";var T=a++;i[T]=i[c]+"|x|X|\\*";var j=a++;i[j]="[v=\\s]*("+i[T]+")(?:\\.("+i[T]+")(?:\\.("+i[T]+")(?:"+i[y]+")?"+i[g]+"?)?)?";var A=a++;i[A]="[v=\\s]*("+i[S]+")(?:\\.("+i[S]+")(?:\\.("+i[S]+")(?:"+i[m]+")?"+i[g]+"?)?)?";var I=a++;i[I]="^"+i[_]+"\\s*"+i[j]+"$";var O=a++;i[O]="^"+i[_]+"\\s*"+i[A]+"$";var R=a++;i[R]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var E=a++;i[E]="(?:~>?)";var q=a++;i[q]="(\\s*)"+i[E]+"\\s+",s[q]=new RegExp(i[q],"g");var C=a++;i[C]="^"+i[E]+i[j]+"$";var P=a++;i[P]="^"+i[E]+i[A]+"$";var U=a++;i[U]="(?:\\^)";var N=a++;i[N]="(\\s*)"+i[U]+"\\s+",s[N]=new RegExp(i[N],"g");var D=a++;i[D]="^"+i[U]+i[j]+"$";var K=a++;i[K]="^"+i[U]+i[A]+"$";var M=a++;i[M]="^"+i[_]+"\\s*("+w+")$|^$";var H=a++;i[H]="^"+i[_]+"\\s*("+x+")$|^$";var L=a++;i[L]="(\\s*)"+i[_]+"\\s*("+w+"|"+i[j]+")",s[L]=new RegExp(i[L],"g");var $=a++;i[$]="^\\s*("+i[j]+")\\s+-\\s+("+i[j]+")\\s*$";var B=a++;i[B]="^\\s*("+i[A]+")\\s+-\\s+("+i[A]+")\\s*$";var F=a++;i[F]="(<|>)?=?\\s*\\*";for(var Q=0;Q<a;Q++)r(Q,i[Q]),s[Q]||(s[Q]=new RegExp(i[Q]));function G(e,t){if(e instanceof J)return e;if("string"!=typeof e)return null;if(e.length>n)return null;if(!(t?s[k]:s[b]).test(e))return null;try{return new J(e,t)}catch(e){return null}}function J(e,t){if(e instanceof J){if(e.loose===t)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof J))return new J(e,t);r("SemVer",e,t),this.loose=t;var i=e.trim().match(t?s[k]:s[b]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}t.parse=G,t.valid=function(e,t){var r=G(e,t);return r?r.version:null},t.clean=function(e,t){var r=G(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=J,J.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},J.prototype.toString=function(){return this.version},J.prototype.compare=function(e){return r("SemVer.compare",this.version,this.loose,e),e instanceof J||(e=new J(e,this.loose)),this.compareMain(e)||this.comparePre(e)},J.prototype.compareMain=function(e){return e instanceof J||(e=new J(e,this.loose)),V(this.major,e.major)||V(this.minor,e.minor)||V(this.patch,e.patch)},J.prototype.comparePre=function(e){if(e instanceof J||(e=new J(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return V(n,o)}while(++t)},J.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new J(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(Z(e,t))return null;var r=G(e),n=G(t);if(r.prerelease.length||n.prerelease.length){for(var o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==n[o])return"pre"+o;return"prerelease"}for(var o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==n[o])return o},t.compareIdentifiers=V;var z=/^[0-9]+$/;function V(e,t){var r=z.test(e),n=z.test(t);return r&&n&&(e=+e,t=+t),r&&!n?-1:n&&!r?1:e<t?-1:e>t?1:0}function W(e,t,r){return new J(e,r).compare(new J(t,r))}function Y(e,t,r){return W(e,t,r)>0}function X(e,t,r){return W(e,t,r)<0}function Z(e,t,r){return 0===W(e,t,r)}function ee(e,t,r){return 0!==W(e,t,r)}function te(e,t,r){return W(e,t,r)>=0}function re(e,t,r){return W(e,t,r)<=0}function ne(e,t,r,n){var o;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),o=e===r;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),o=e!==r;break;case"":case"=":case"==":o=Z(e,r,n);break;case"!=":o=ee(e,r,n);break;case">":o=Y(e,r,n);break;case">=":o=te(e,r,n);break;case"<":o=X(e,r,n);break;case"<=":o=re(e,r,n);break;default:throw new TypeError("Invalid operator: "+t)}return o}function oe(e,t){if(e instanceof oe){if(e.loose===t)return e;e=e.value}if(!(this instanceof oe))return new oe(e,t);r("comparator",e,t),this.loose=t,this.parse(e),this.semver===se?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return V(t,e)},t.major=function(e,t){return new J(e,t).major},t.minor=function(e,t){return new J(e,t).minor},t.patch=function(e,t){return new J(e,t).patch},t.compare=W,t.compareLoose=function(e,t){return W(e,t,!0)},t.rcompare=function(e,t,r){return W(t,e,r)},t.sort=function(e,r){return e.sort(function(e,n){return t.compare(e,n,r)})},t.rsort=function(e,r){return e.sort(function(e,n){return t.rcompare(e,n,r)})},t.gt=Y,t.lt=X,t.eq=Z,t.neq=ee,t.gte=te,t.lte=re,t.cmp=ne,t.Comparator=oe;var se={};function ie(e,t){if(e instanceof ie)return e.loose===t?e:new ie(e.raw,t);if(e instanceof oe)return new ie(e.value,t);if(!(this instanceof ie))return new ie(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ae(e){return!e||"x"===e.toLowerCase()||"*"===e}function ce(e,t,r,n,o,s,i,a,c,u,l,p,f){return((t=ae(r)?"":ae(n)?">="+r+".0.0":ae(o)?">="+r+"."+n+".0":">="+t)+" "+(a=ae(c)?"":ae(u)?"<"+(+c+1)+".0.0":ae(l)?"<"+c+"."+(+u+1)+".0":p?"<="+c+"."+u+"."+l+"-"+p:"<="+a)).trim()}function ue(e,t){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length){for(n=0;n<e.length;n++)if(r(e[n].semver),e[n].semver!==se&&e[n].semver.prerelease.length>0){var o=e[n].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new ie(t,r)}catch(e){return!1}return t.test(e)}function pe(e,t,r,n){var o,s,i,a,c;switch(e=new J(e,n),t=new ie(t,n),r){case">":o=Y,s=re,i=X,a=">",c=">=";break;case"<":o=X,s=te,i=Y,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=null,p=null;if(t.set[u].forEach(function(e){e.semver===se&&(e=new oe(">=0.0.0")),l=l||e,p=p||e,o(e.semver,l.semver,n)?l=e:i(e.semver,p.semver,n)&&(p=e)}),l.operator===a||l.operator===c)return!1;if((!p.operator||p.operator===a)&&s(e,p.semver))return!1;if(p.operator===c&&i(e,p.semver))return!1}return!0}oe.prototype.parse=function(e){var t=this.loose?s[M]:s[H],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new J(r[2],this.loose):this.semver=se},oe.prototype.toString=function(){return this.value},oe.prototype.test=function(e){return r("Comparator.test",e,this.loose),this.semver===se||("string"==typeof e&&(e=new J(e,this.loose)),ne(e,this.operator,this.semver,this.loose))},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Comparator is required");var r;if(""===this.operator)return r=new ie(e.value,t),le(this.value,r,t);if(""===e.operator)return r=new ie(this.value,t),le(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||s&&i||a||c},t.Range=ie,ie.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},ie.prototype.toString=function(){return this.range},ie.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),r("range",e,t);var n=t?s[B]:s[$];e=e.replace(n,ce),r("hyphen replace",e),e=e.replace(s[L],"$1$2$3"),r("comparator trim",e,s[L]),e=(e=(e=e.replace(s[q],"$1~")).replace(s[N],"$1^")).split(/\s+/).join(" ");var o=t?s[M]:s[H],i=e.split(" ").map(function(e){return function(e,t){return r("comp",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){r("caret",e,t);var n=t?s[K]:s[D];return e.replace(n,function(t,n,o,s,i){var a;return r("caret",e,t,n,o,s,i),ae(n)?a="":ae(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ae(s)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":i?(r("replaceCaret pr",i),"-"!==i.charAt(0)&&(i="-"+i),a="0"===n?"0"===o?">="+n+"."+o+"."+s+i+" <"+n+"."+o+"."+(+s+1):">="+n+"."+o+"."+s+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+s+i+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+s+" <"+n+"."+o+"."+(+s+1):">="+n+"."+o+"."+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+s+" <"+(+n+1)+".0.0"),r("caret return",a),a})}(e,t)}).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){var n=t?s[P]:s[C];return e.replace(n,function(t,n,o,s,i){var a;return r("tilde",e,t,n,o,s,i),ae(n)?a="":ae(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ae(s)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":i?(r("replaceTilde pr",i),"-"!==i.charAt(0)&&(i="-"+i),a=">="+n+"."+o+"."+s+i+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+s+" <"+n+"."+(+o+1)+".0",r("tilde return",a),a})}(e,t)}).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){e=e.trim();var n=t?s[O]:s[I];return e.replace(n,function(t,n,o,s,i,a){r("xRange",e,t,n,o,s,i,a);var c=ae(o),u=c||ae(s),l=u||ae(i),p=l;return"="===n&&p&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&p?(u&&(s=0),l&&(i=0),">"===n?(n=">=",u?(o=+o+1,s=0,i=0):l&&(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),t=n+o+"."+s+"."+i):u?t=">="+o+".0.0 <"+(+o+1)+".0.0":l&&(t=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),r("xRange return",t),t})}(e,t)}).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(s[F],"")}(e,t),r("stars",e),e}(e,t)}).join(" ").split(/\s+/);return this.loose&&(i=i.filter(function(e){return!!e.match(o)})),i=i.map(function(e){return new oe(e,t)})},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Range is required");return this.set.some(function(r){return r.every(function(r){return e.set.some(function(e){return e.every(function(e){return r.intersects(e,t)})})})})},t.toComparators=function(e,t){return new ie(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},ie.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new J(e,this.loose));for(var t=0;t<this.set.length;t++)if(ue(this.set[t],e))return!0;return!1},t.satisfies=le,t.maxSatisfying=function(e,t,r){var n=null,o=null;try{var s=new ie(t,r)}catch(e){return null}return e.forEach(function(e){s.test(e)&&(n&&-1!==o.compare(e)||(o=new J(n=e,r)))}),n},t.minSatisfying=function(e,t,r){var n=null,o=null;try{var s=new ie(t,r)}catch(e){return null}return e.forEach(function(e){s.test(e)&&(n&&1!==o.compare(e)||(o=new J(n=e,r)))}),n},t.validRange=function(e,t){try{return new ie(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return pe(e,t,"<",r)},t.gtr=function(e,t,r){return pe(e,t,">",r)},t.outside=pe,t.prerelease=function(e,t){var r=G(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new ie(e,r),t=new ie(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof J)return e;if("string"!=typeof e)return null;var t=e.match(s[R]);return null==t?null:G((t[1]||"0")+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t,r){e.exports=function(e,t){return function(r,o,s){if("function"==typeof r&&"object"==typeof o||"object"==typeof s)throw new n.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof r?(s=r,r=""):1!==arguments.length&&"function"!=typeof o||(s=o,o=void 0),"object"==typeof r&&null!==r?(o=r,r=void 0):void 0!==r&&null!==r||(r="");var i,a="";return void 0!==r&&(a+=e+"="+encodeURIComponent(r)),void 0!==o&&(o.additionalUA&&(i=o.additionalUA,delete o.additionalUA),a=this.as._getSearchParams(o,a)),this._search(a,t,s,i)}};var n=r(6)},function(e,t,r){var n=r(43),o=r(16),s=r(17);function i(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}}e.exports=i,i.prototype.clearCache=function(){this.cache={}},i.prototype.search=n("query"),i.prototype.similarSearch=n("similarQuery"),i.prototype.browse=function(e,t,n){var o,s,i=r(45);0===arguments.length||1===arguments.length&&"function"==typeof arguments[0]?(o=0,n=arguments[0],e=void 0):"number"==typeof arguments[0]?(o=arguments[0],"number"==typeof arguments[1]?s=arguments[1]:"function"==typeof arguments[1]&&(n=arguments[1],s=void 0),e=void 0,t=void 0):"object"==typeof arguments[0]?("function"==typeof arguments[1]&&(n=arguments[1]),t=arguments[0],e=void 0):"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&(n=arguments[1],t=void 0),t=i({},t||{},{page:o,hitsPerPage:s,query:e});var a=this.as._getSearchParams(t,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse",body:{params:a},hostType:"read",callback:n})},i.prototype.browseFrom=function(e,t){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse",body:{cursor:e},hostType:"read",callback:t})},i.prototype.searchForFacetValues=function(e,t){var n=r(1),o=r(122);if(void 0===e.facetName||void 0===e.facetQuery)throw new Error("Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])");var s=e.facetName,i=o(n(e),function(e){return"facetName"===e}),a=this.as._getSearchParams(i,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/facets/"+encodeURIComponent(s)+"/query",hostType:"read",body:{params:a},callback:t})},i.prototype.searchFacet=o(function(e,t){return this.searchForFacetValues(e,t)},s("index.searchFacet(params[, callback])","index.searchForFacetValues(params[, callback])")),i.prototype._search=function(e,t,r,n){return this.as._jsonRequest({cache:this.cache,method:"POST",url:t||"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:r,additionalUA:n})},i.prototype.getObject=function(e,t,r){1!==arguments.length&&"function"!=typeof t||(r=t,t=void 0);var n="";if(void 0!==t){n="?attributes=";for(var o=0;o<t.length;++o)0!==o&&(n+=","),n+=t[o]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(e)+n,hostType:"read",callback:r})},i.prototype.getObjects=function(e,t,n){var o=r(0),s=r(7);if(!o(e))throw new Error("Usage: index.getObjects(arrayOfObjectIDs[, callback])");var i=this;1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0);var a={requests:s(e,function(e){var r={indexName:i.indexName,objectID:e};return t&&(r.attributesToRetrieve=t.join(",")),r})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:a,callback:n})},i.prototype.as=null,i.prototype.indexName=null,i.prototype.typeAheadArgs=null,i.prototype.typeAheadValueOption=null},function(e,t,r){var n=r(3);e.exports=function e(t){var r=Array.prototype.slice.call(arguments);return n(r,function(r){for(var n in r)r.hasOwnProperty(n)&&("object"==typeof t[n]&&"object"==typeof r[n]?t[n]=e({},t[n],r[n]):void 0!==r[n]&&(t[n]=r[n]))}),t}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Array.prototype.slice,i=r(123),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&n.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),d=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),s=i(e),a=t&&"[object String]"===o.call(e),f=[];if(!t&&!r&&!s)throw new TypeError("Object.keys called on a non-object");var d=u&&r;if(a&&e.length>0&&!n.call(e,0))for(var y=0;y<e.length;++y)f.push(String(y));if(s&&e.length>0)for(var m=0;m<e.length;++m)f.push(String(m));else for(var v in e)d&&"prototype"===v||!n.call(e,v)||f.push(String(v));if(c)for(var g=function(e){if("undefined"==typeof window||!h)return p(e);try{return p(e)}catch(e){return!1}}(e),b=0;b<l.length;++b)g&&"constructor"===l[b]||!n.call(e,l[b])||f.push(l[b]);return f};d.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return i(t)?e(s.call(t)):e(t)}}}else Object.keys=d;return Object.keys||d},e.exports=d},function(e,t){e.exports=function(e,t){t(e,0)}},function(e,t){e.exports=require("url")},function(e,t,r){e.exports=r(50),e.exports.HttpsAgent=r(131)},function(e,t,r){"use strict";var n=r(8),o=r(19),s=r(130).Agent;n.Agent;function i(e){if(!(this instanceof i))return new i(e);(e=e||{}).keepAlive=!1!==e.keepAlive,void 0===e.keepAliveTimeout&&(e.keepAliveTimeout=15e3),void 0===e.timeout&&(e.timeout=2*e.keepAliveTimeout),s.call(this,e);var t=this;t.createSocketCount=0,t.closeSocketCount=0,t.errorSocketCount=0,t.requestCount=0,t.timeoutSocketCount=0,t.on("free",function(){t.requestCount++}),t.on("timeout",function(){t.timeoutSocketCount++}),t.on("close",function(){t.closeSocketCount++}),t.on("error",function(){t.errorSocketCount++})}function a(e){var t={};for(var r in e)t[r]=e[r].length;return t}e.exports=i,o.inherits(i,s),i.prototype.createSocket=function(e,t){var r=s.prototype.createSocket.call(this,e,t);return this.keepAlive&&r.setNoDelay(!0),this.createSocketCount++,r},i.prototype.getCurrentStatus=function(){return{createSocketCount:this.createSocketCount,closeSocketCount:this.closeSocketCount,errorSocketCount:this.errorSocketCount,timeoutSocketCount:this.timeoutSocketCount,requestCount:this.requestCount,freeSockets:a(this.freeSockets),sockets:a(this.sockets),requests:a(this.requests)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={fullAtomic:function(e){return e&&e.__esModule?e:{default:e}}(r(52)).default.run};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(20)),o=m(r(25)),s=m(r(69)),i=m(r(34)),a=m(r(74)),c=m(r(76)),u=m(r(81)),l=m(r(13)),p=m(r(91)),f=m(r(103)),h=m(r(104)),d=m(r(106)),y=m(r(107));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r,n,o,s,i){try{var a=e[s](i),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function g(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var s=e.apply(t,r);function i(e){v(s,n,o,i,a,"next",e)}function a(e){v(s,n,o,i,a,"throw",e)}i(void 0)})}}const b={manifestIdsPerRecord:()=>100,addUniqueObjectIdsToRecords(e){const t=(0,h.default)().hash;return(0,f.default)(e,e=>{const r=(0,p.default)(e,"objectID");return r.objectID=t(r),r})},getRemoteObjectIds:e=>g(function*(){const t=yield y.default.getAllRecords(e,{attributesToRetrieve:"content"});return(0,l.default)((0,f.default)(t,"content"))})(),getLocalObjectIds:e=>(0,f.default)(e,"objectID"),buildDiffBatch(e,t,r){const n=this.getLocalObjectIds(t),o=(0,u.default)(e,n),s=(0,u.default)(n,e),i=(0,c.default)(t,"objectID"),l=(0,f.default)(o,e=>({action:"deleteObject",indexName:r,body:{objectID:e}})),p=(0,f.default)(s,e=>({action:"addObject",indexName:r,body:i[e]}));return(0,a.default)(l,p)},buildManifestBatch(e,t){const r=this.getLocalObjectIds(e),n=(0,i.default)(r,this.manifestIdsPerRecord());return(0,f.default)(n,e=>({action:"addObject",indexName:t,body:{content:e}}))},run(e,t,r){var n=this;return g(function*(){const o=(0,s.default)(e,"appId"),i=(0,s.default)(e,"apiKey");y.default.init(o,i);const a=(0,s.default)(e,"indexName"),c=`${a}_tmp`,u=`${a}_manifest`,l=`${a}_manifest_tmp`;try{yield y.default.copyIndexSync(a,c),yield y.default.setSettingsSync(c,r);const e=n.addUniqueObjectIdsToRecords(t),o=yield n.getRemoteObjectIds(u),s=n.buildDiffBatch(o,e,c);yield y.default.runBatchSync(s),yield y.default.clearIndexSync(l);const i=n.buildManifestBatch(e,l);yield y.default.runBatchSync(i),yield(0,d.default)([g(function*(){yield y.default.moveIndexSync(l,u)}),g(function*(){yield y.default.moveIndexSync(c,a)})])}catch(e){console.info(e),console.info("Unable to update records")}})()}};var x=(0,o.default)(b,(0,n.default)(b));t.default=x},function(e,t,r){var n=r(54),o=r(21);e.exports=function(e,t){return n(t,function(t){return o(e[t])})}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[o++]=i)}return s}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},function(e,t,r){var n=r(57),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,r){var n=r(26),o=r(60),s=r(64),i=r(65),a=n(function(e,t,r){var n=1;if(r.length){var c=i(r,s(a));n|=32}return o(e,n,t,r,c)});a.placeholder={},e.exports=a},function(e,t){e.exports=function(e){return e}},function(e,t,r){var n=r(28),o=r(61),s=r(30),i=1;e.exports=function(e,t,r,a){var c=t&i,u=o(e);return function t(){for(var o=-1,i=arguments.length,l=-1,p=a.length,f=Array(p+i),h=this&&this!==s&&this instanceof t?u:e;++l<p;)f[l]=a[l];for(;i--;)f[l++]=arguments[++o];return n(h,c?r:this,f)}}},function(e,t,r){var n=r(62),o=r(12);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=n(e.prototype),s=e.apply(r,t);return o(s)?s:r}}},function(e,t,r){var n=r(12),o=Object.create,s=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=s},function(e,t){var r="object"==typeof global&&global&&global.Object===Object&&global;e.exports=r},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(){return[]}},function(e,t,r){var n=r(67),o=r(68),s=r(4),i=n?n.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||o(e)||!!(i&&e&&e[i])}},function(e,t,r){var n=r(30).Symbol;e.exports=n},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(70);e.exports=function(e,t,r){var o=null==e?void 0:n(e,t);return void 0===o?r:o}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(o);++n<o;)s[n]=e[n+t];return s}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e){return e}},function(e,t,r){var n=r(32),o=r(14),s=r(75),i=r(4);e.exports=function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),r=arguments[0],a=e;a--;)t[a-1]=arguments[a];return n(i(r)?s(r):[r],o(t,1))}},function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t,r){var n=r(9),o=r(77)(function(e,t,r){n(e,r,t)});e.exports=o},function(e,t,r){var n=r(78),o=r(79),s=r(80),i=r(4);e.exports=function(e,t){return function(r,a){var c=i(r)?n:o,u=t?t():{};return c(r,e,s(a,2),u)}}},function(e,t){e.exports=function(e,t,r,n){for(var o=-1,s=null==e?0:e.length;++o<s;){var i=e[o];t(n,i,r(i),e)}return n}},function(e,t){e.exports=function(e,t,r,n){for(var o=-1,s=null==e?0:e.length;++o<s;){var i=e[o];t(n,i,r(i),e)}return n}},function(e,t){e.exports=function(e){return e}},function(e,t,r){var n=r(82),o=r(14),s=r(26),i=r(88),a=s(function(e,t){return i(e)?n(e,o(t,1,i,!0)):[]});e.exports=a},function(e,t,r){var n=r(83),o=r(84),s=r(85),i=r(36),a=r(86),c=r(87),u=200;e.exports=function(e,t,r,l){var p=-1,f=o,h=!0,d=e.length,y=[],m=t.length;if(!d)return y;r&&(t=i(t,a(r))),l?(f=s,h=!1):t.length>=u&&(f=c,h=!1,t=new n(t));e:for(;++p<d;){var v=e[p],g=null==r?v:r(v);if(v=l||0!==v?v:0,h&&g==g){for(var b=m;b--;)if(t[b]===g)continue e;y.push(v)}else f(t,g,l)||y.push(v)}return y}},function(e,t,r){var n=r(4);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return n(e)?e:[e]}},function(e,t,r){var n=r(35);e.exports=function(e,t){return!(null==e||!e.length)&&n(e,t,0)>-1}},function(e,t){e.exports=function(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){var n=r(35);e.exports=function(e,t){return!(null==e||!e.length)&&n(e,t,0)>-1}},function(e,t,r){var n=r(89),o=r(37);e.exports=function(e){return o(e)&&n(e)}},function(e,t,r){var n=r(21),o=r(90);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},function(e,t){var r=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},function(e,t,r){var n=r(36),o=r(92),s=r(93),i=r(38),a=r(96),c=r(99),u=r(31),l=r(102),p=u(function(e,t){var r={};if(null==e)return r;var u=!1;t=n(t,function(t){return t=i(t,e),u||(u=t.length>1),t}),a(e,l(e),r),u&&(r=o(r,7,c));for(var p=t.length;p--;)s(r,t[p]);return r});e.exports=p},function(e,t){e.exports=function(e){return e}},function(e,t,r){var n=r(38),o=r(94),s=r(95),i=r(33);e.exports=function(e,t){return t=n(t,e),null==(e=s(e,t))||delete e[i(o(t))]}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t){e.exports=function(e){return e}},function(e,t,r){var n=r(97),o=r(9);e.exports=function(e,t,r,s){var i=!r;r||(r={});for(var a=-1,c=t.length;++a<c;){var u=t[a],l=s?s(r[u],e[u],u,r,e):void 0;void 0===l&&(l=e[u]),i?o(r,u,l):n(r,u,l)}return r}},function(e,t,r){var n=r(9),o=r(98),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var i=e[t];s.call(e,t)&&o(i,r)&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(100);e.exports=function(e){return n(e)?void 0:e}},function(e,t,r){var n=r(22),o=r(101),s=r(37),i="[object Object]",a=Function.prototype,c=Object.prototype,u=a.toString,l=c.hasOwnProperty,p=u.call(Object);e.exports=function(e){if(!s(e)||n(e)!=i)return!1;var t=o(e);if(null===t)return!0;var r=l.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==p}},function(e,t,r){var n=r(24)(Object.getPrototypeOf,Object);e.exports=n},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},function(e,t,r){"use strict";var n=r(39),o=r(105);e.exports=function(e){var t,r=e||{};function s(e){return t(e)}return r.alg=r.alg||"sha256",r.enc=r.enc||"hex",t=o(e),{hash:function(e,t){var o=(t=t||{}).alg||r.alg,i=t.enc||r.enc,a=s(e);return n.createHash(o).update(a).digest(i)},sortObject:s,sort:s}}},function(e,t,r){"use strict";function n(e){var t=typeof e;return"object"!==t?t:function(e){if(null===e)return"null";switch(e.constructor&&e.constructor.name){case"Array":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Buffer":return"array";case"Map":case"WeakMap":return"map";case"Set":case"WeakSet":return"set";case"Date":return"date";case"String":return"string";case"Number":return"number";case"Boolean":return"boolean";case"Object":return"object";default:return"unknown"}}(e)}e.exports=function(e){var t=void 0===(e=e||{}).coerce||e.coerce,r=void 0===e.sort||e.sort,o={};return o.string=function(e){return t?e:"<:s>:"+e},o.number=function(e){return t?e.toString():"<:n>:"+e},o.boolean=function(e){return t?e.valueOf()?"1":"0":e.valueOf()?"<:b>:true":"<:b>:false"},o.symbol=function(){return"<:smbl>"},o.undefined=function(){return t?"":"<:undf>"},o.null=function(){return t?"":"<:null>"},o.function=function(e){return t?e.name+"=>"+e.toString():"<:func>:"+e.name+"=>"+e.toString()},o.array=function(e){for(var t,s,i=[],a=0;a<e.length;a++)s=n(t=e[a]),i.push(o[s](t));return r?"["+i.sort().toString()+"]":"["+i.toString()+"]"},o.set=function(e){return o.array(Array.from(e))},o.date=function(e){var r=e.toISOString();return t?r:"<:date>:"+r},o.object=function(e){var t,s,i,a,c=r?Object.keys(e).sort():Object.keys(e),u=[];for(a=0;a<c.length;a++)i=n(s=e[t=c[a]]),u.push(t+":"+o[i](s));return"{"+u.toString()+"}"},o.map=function(e){var t,s,i,a,c=Array.from(e);for(a=0;a<c.length;a++)t=(i=c[a])[0],s=i[1],i=[o[n(t)](t),o[n(s)](s)],c[a]=i;return r?"["+c.sort().join(";")+"]":"["+c.join(";")+"]"},o.unknown=function(e){return"<:"+(e.constructor?e.constructor.name:"unknonw")+">:"+("function"==typeof e.toString?e.toString():"unknown")},function(e){return o[n(e)](e)}}},function(e,t,r){"use strict";const n=r(40);e.exports=((e,t)=>n(e,e=>e(),t))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(20)),o=p(r(25)),s=p(r(23)),i=p(r(34)),a=p(r(13)),c=p(r(108)),u=p(r(40)),l=p(r(137));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){h(e,t,r[t])})}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r,n,o,s,i){try{var a=e[s](i),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function y(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var s=e.apply(t,r);function i(e){d(s,n,o,i,a,"next",e)}function a(e){d(s,n,o,i,a,"throw",e)}i(void 0)})}}const m={QUOTAS:{batchMaxSize:1e3,batchMaxConcurrency:10},client:null,indexes:null,init(e,t){this.client=(0,c.default)(e,t),this.indexes={}},initIndex(e){const t=this.indexes[e];if(t)return t;const r=this.client.initIndex(e);return this.indexes[e]=r,r},clearIndexSync(e){var t=this;return y(function*(){l.default.emit("clearIndex:start",e);try{const r=t.initIndex(e),n=yield r.clearIndex();yield r.waitTask(n.taskID),l.default.emit("clearIndex:end",e)}catch(t){l.default.emit("error",`Unable to clear index ${e}`)}})()},copyIndexSync(e,t){var r=this;return y(function*(){if(l.default.emit("copyIndex:start",{source:e,destination:t}),!(yield r.indexExists(e)))return yield r.initIndex(e).setSettings({}),void l.default.emit("copyIndex:end",{source:e,destination:t});try{const n=yield r.client.copyIndex(e,t);yield r.initIndex(e).waitTask(n.taskID),l.default.emit("copyIndex:end",{source:e,destination:t})}catch(r){l.default.emit("error",`Unable to copy index ${e} to ${t}`)}})()},setSettingsSync(e,t){var r=this;return y(function*(){l.default.emit("setSettings:start",{indexName:e,settings:t});try{const n=r.initIndex(e),o=yield n.setSettings(t);yield n.waitTask(o.taskID),l.default.emit("setSettings:end",{indexName:e,settings:t})}catch(t){l.default.emit("error",`Unable to set settings to ${e}`)}})()},indexExists(e){var t=this;return y(function*(){try{return yield t.initIndex(e).getSettings(),!0}catch(e){return!1}})()},getAllRecords(e,t={}){var r=this;return y(function*(){l.default.emit("getAllRecords:start",{indexName:e});const n=f({},t,{hitsPerPage:1e3});try{const t=r.initIndex(e).browseAll(n),o=[];return yield new Promise((r,n)=>{let s=1;t.on("result",t=>{l.default.emit("getAllRecords:page",{indexName:e,page:s}),s++,o.push(t)}),t.on("end",()=>{l.default.emit("getAllRecords:end",{indexName:e}),r((0,a.default)(o))}),t.on("error",n)})}catch(e){return[]}})()},runBatchSync(e,t={}){var r=this;return y(function*(){const n=f({batchSize:r.QUOTAS.batchMaxSize,concurrency:r.QUOTAS.batchMaxConcurrency},t),o=(0,i.default)(e,n.batchSize);l.default.emit("batch:start",{batchCount:e.length,batchSize:n.batchSize}),yield(0,u.default)(o,function(){var e=y(function*(e,t){try{const n=(yield r.client.batch(e)).taskID;yield(0,u.default)((0,s.default)(n),function(){var e=y(function*(e){const t=n[e];yield r.initIndex(e).waitTask(t)});return function(t){return e.apply(this,arguments)}}()),l.default.emit("batch:chunk",{chunkSize:e.length})}catch(e){l.default.emit("error",`Unable to send batch #${t}`)}});return function(t,r){return e.apply(this,arguments)}}(),{concurrency:n.concurrency}),l.default.emit("batch:end")})()}};var v=(0,o.default)(m,(0,n.default)(m));t.default=v},function(e,t,r){"use strict";e.exports=r(109)},function(e,t,r){"use strict";e.exports=d;var n=r(10)("algoliasearch:nodejs"),o=r(39),s=r(115),i=r(2),a=global.Promise||r(117).Promise,c=r(42),u=c.satisfies(process.version,"<0.10"),l=c.satisfies(process.version,"=0.10"),p=r(118),f=r(119),h=r(6);if(u)throw new h.AlgoliaSearchError("Node.js version "+process.version+" is not supported");function d(e,t,n){var o=r(1),s=r(127);n||(n={});var i=n.httpAgent;return(n=o(s(n,function(e,t,r){"httpAgent"!==r&&(e[r]=t);return e},{}))).httpAgent=i,n.timeouts=n.timeouts||{connect:2e3,read:5e3,write:3e4},void 0===n.protocol&&(n.protocol="https:"),n._ua=n._ua||d.ua,n._useCache=!1,new y(e,t,n)}function y(e,t,n){var o=r(129);f.apply(this,arguments),this._Agent=n.httpAgent||o(n.protocol)}n("loaded the Node.js client"),d.version=r(128),d.ua="Algolia for Node.js "+d.version,d.initPlaces=p(d),i(y,f),y.prototype._request=function(e,t){var n=r(18),o=r(8),i=r(48),c=this;return new a(function(r,a){t.debug("url: %s, method: %s, timeouts: %j",e,t.method,t.timeouts);var u,p,f=t.body,d=i.parse(e),y={hostname:d.hostname,port:d.port,method:t.method,path:d.path,agent:c._Agent},m=!1;function v(e){clearTimeout(u),u=setTimeout(function(){e.removeListener("data",l),e.removeListener("end",p),o.destroy(),g()},t.timeouts.complete);var n=[],o=e,i=e.headers,c=e.statusCode;function l(e){n.push(e)}function p(){clearTimeout(u);var e,t=Buffer.concat(n).toString();try{e={body:JSON.parse(t),statusCode:c,headers:i}}catch(r){e=new h.UnparsableJSON({more:t})}e instanceof h.UnparsableJSON?a(e):r(e)}"gzip"!==i["content-encoding"]&&"deflate"!==i["content-encoding"]||(e=e.pipe(s.createUnzip())),e.on("data",l).once("end",p)}function g(){m=!0,t.debug("timeout %s",e),b(),a(new h.RequestTimeout)}function b(){l&&p.socket&&p.socket.socket&&p.socket.socket.destroy(),p.removeListener("response",v),p.abort()}"https:"===d.protocol?(null===y.port&&(y.port=443),p=o.request(y)):(null===y.port&&(y.port=80),p=n.request(y)),p.setHeader("connection","keep-alive"),p.setHeader("accept","application/json"),Object.keys(t.headers).forEach(function(e){p.setHeader(e,t.headers[e])}),p.setHeader("accept-encoding","gzip,deflate"),u=setTimeout(g,t.timeouts.connect),p.once("error",function(r){if(t.debug("error: %j  - %s",r,e),m)return void t.debug("request had already timedout");b(),clearTimeout(u),a(new h.Network(r.message,r))}),p.once("response",v),f?(p.setHeader("content-type","application/json"),p.setHeader("content-length",Buffer.byteLength(f,"utf8")),p.write(f)):"DELETE"===p.method&&p.setHeader("content-length",0),p.end()})},y.prototype._promise={reject:function(e){return a.reject(e)},resolve:function(e){return a.resolve(e)},delay:function(e){return new a(function(t){setTimeout(t,e)})}},y.prototype.destroy=function(){"function"==typeof this._Agent.destroy&&this._Agent.destroy()},y.prototype.generateSecuredApiKey=function(e,t,r){var n;Array.isArray(t)?(n={tagFilters:t},r&&(n.userToken=r),n=this._getSearchParams(n,"")):"string"==typeof t?(n=-1===t.indexOf("=")?"tagFilters="+t:t,r&&(n+="&userToken="+encodeURIComponent(r))):n=this._getSearchParams(t,"");var s=o.createHmac("sha256",e).update(n).digest("hex");return new Buffer(s+n).toString("base64")}},function(e,t,r){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=r(41)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var o=0,s=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(s=++o)}),e.splice(s,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())},function(e,t){var r=1e3,n=60*r,o=60*n,s=24*o,i=365.25*s;function a(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*i;case"days":case"day":case"d":return a*s;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?function(e){return a(e,s,"day")||a(e,o,"hour")||a(e,n,"minute")||a(e,r,"second")||e+" ms"}(e):function(e){if(e>=s)return Math.round(e/s)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){var n=r(113),o=r(5);(t=e.exports=r(41)).init=function(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(){return i.write(o.format.apply(o,arguments)+"\n")},t.formatArgs=function(e){var r=this.namespace;if(this.useColors){var n=this.color,o="  [3"+n+";1m"+r+" [0m";e[0]=o+e[0].split("\n").join("\n"+o),e.push("[3"+n+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+r+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=a,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(s)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{});var s=parseInt(process.env.DEBUG_FD,10)||2;1!==s&&2!==s&&o.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var i=1===s?process.stdout:2===s?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new n.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":var o=r(114);(t=new o.SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":var s=r(15);(t=new s.Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(s);function a(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map(function(e){return e.trim()}).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)},t.enable(a())},function(e,t){e.exports=require("tty")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("zlib")},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */
!function(t,r){e.exports=r()}(0,function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,n=void 0,o=void 0,s=function(e,t){f[r]=e,f[r+1]=t,2===(r+=2)&&(o?o(h):d())};var i="undefined"!=typeof window?window:void 0,a=i||{},c=a.MutationObserver||a.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(h,1)}}var f=new Array(1e3);function h(){for(var e=0;e<r;e+=2){(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0}r=0}var d=void 0;function y(e,t){var r=this,n=new this.constructor(g);void 0===n[v]&&C(n);var o=r._state;if(o){var i=arguments[o-1];s(function(){return E(o,n,i,r._result)})}else O(r,n,e,t);return n}function m(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(g);return T(t,e),t}d=u?function(){return process.nextTick(h)}:c?function(){var e=0,t=new c(h),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}():l?function(){var e=new MessageChannel;return e.port1.onmessage=h,function(){return e.port2.postMessage(0)}}():void 0===i?function(){try{var e=Function("return this")().require("vertx");return void 0!==(n=e.runOnLoop||e.runOnContext)?function(){n(h)}:p()}catch(e){return p()}}():p();var v=Math.random().toString(36).substring(2);function g(){}var b=void 0,x=1,w=2,k={error:null};function _(e){try{return e.then}catch(e){return k.error=e,k}}function S(t,r,n){r.constructor===t.constructor&&n===y&&r.constructor.resolve===m?function(e,t){t._state===x?A(e,t._result):t._state===w?I(e,t._result):O(t,void 0,function(t){return T(e,t)},function(t){return I(e,t)})}(t,r):n===k?(I(t,k.error),k.error=null):void 0===n?A(t,r):e(n)?function(e,t,r){s(function(e){var n=!1,o=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,function(r){n||(n=!0,t!==r?T(e,r):A(e,r))},function(t){n||(n=!0,I(e,t))},e._label);!n&&o&&(n=!0,I(e,o))},e)}(t,r,n):A(t,r)}function T(e,t){e===t?I(e,new TypeError("You cannot resolve a promise with itself")):!function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)?A(e,t):S(e,t,_(t))}function j(e){e._onerror&&e._onerror(e._result),R(e)}function A(e,t){e._state===b&&(e._result=t,e._state=x,0!==e._subscribers.length&&s(R,e))}function I(e,t){e._state===b&&(e._state=w,e._result=t,s(j,e))}function O(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+x]=r,o[i+w]=n,0===i&&e._state&&s(R,e)}function R(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,s=e._result,i=0;i<t.length;i+=3)n=t[i],o=t[i+r],n?E(r,n,o,s):o(s);e._subscribers.length=0}}function E(t,r,n,o){var s=e(n),i=void 0,a=void 0,c=void 0,u=void 0;if(s){if((i=function(e,t){try{return e(t)}catch(e){return k.error=e,k}}(n,o))===k?(u=!0,a=i.error,i.error=null):c=!0,r===i)return void I(r,new TypeError("A promises callback cannot return that same promise."))}else i=o,c=!0;r._state!==b||(s&&c?T(r,i):u?I(r,a):t===x?A(r,i):t===w&&I(r,i))}var q=0;function C(e){e[v]=q++,e._state=void 0,e._result=void 0,e._subscribers=[]}var P=function(){function e(e,r){this._instanceConstructor=e,this.promise=new e(g),this.promise[v]||C(this.promise),t(r)?(this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(r),0===this._remaining&&A(this.promise,this._result))):I(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===b&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===m){var o=_(e);if(o===y&&e._state!==b)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===U){var s=new r(g);S(s,e,o),this._willSettleAt(s,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===b&&(this._remaining--,e===w?I(n,r):this._result[t]=r),0===this._remaining&&A(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;O(e,void 0,function(e){return r._settledAt(x,t,e)},function(e){return r._settledAt(w,t,e)})},e}();var U=function(){function e(t){this[v]=q++,this._result=this._state=void 0,this._subscribers=[],g!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){T(e,t)},function(t){I(e,t)})}catch(t){I(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){throw r})})},e}();return U.prototype.then=y,U.all=function(e){return new P(this,e).promise},U.race=function(e){var r=this;return t(e)?new r(function(t,n){for(var o=e.length,s=0;s<o;s++)r.resolve(e[s]).then(t,n)}):new r(function(e,t){return t(new TypeError("You must pass an array to race."))})},U.resolve=m,U.reject=function(e){var t=new this(g);return I(t,e),t},U._setScheduler=function(e){o=e},U._setAsap=function(e){s=e},U._asap=s,U.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=U},U.Promise=U,U})},function(e,t,r){e.exports=function(e){return function(t,o,s){var i=r(1);(s=s&&i(s)||{}).hosts=s.hosts||["places-dsn.algolia.net","places-1.algolianet.com","places-2.algolianet.com","places-3.algolianet.com"],0!==arguments.length&&"object"!=typeof t&&void 0!==t||(t="",o="",s._allowEmptyCredentials=!0);var a=e(t,o,s),c=a.initIndex("places");return c.search=n("query","/1/places/query"),c.getObject=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/places/"+encodeURIComponent(e),hostType:"read",callback:t})},c}};var n=r(43)},function(e,t,r){"use strict";e.exports=s;var n=r(2),o=r(120);function s(e,t,r){void 0===r.protocol&&(r.protocol="https:"),o.apply(this,arguments)}n(s,o),s.prototype.enableRateLimitForward=function(e,t,r){this._forward={adminAPIKey:e,endUserIP:t,rateLimitAPIKey:r}},s.prototype.disableRateLimitForward=function(){this._forward=null},s.prototype.useSecuredAPIKey=function(e,t,r){this._secure={apiKey:e,securityTags:t,userToken:r}},s.prototype.disableSecuredAPIKey=function(){this._secure=null},s.prototype._computeRequestHeaders=function(e){var t=s.super_.prototype._computeRequestHeaders.call(this,e);return this._forward&&(t["x-algolia-api-key"]=this._forward.adminAPIKey,t["x-forwarded-for"]=this._forward.endUserIP,t["x-forwarded-api-key"]=this._forward.rateLimitAPIKey),this._secure&&(t["x-algolia-api-key"]=this._secure.apiKey,t["x-algolia-tagfilters"]=this._secure.securityTags,t["x-algolia-usertoken"]=this._secure.userToken),t}},function(e,t,r){e.exports=u;var n=r(121),o=r(16),s=r(17),i=r(125),a=r(2),c=r(6);function u(){i.apply(this,arguments)}function l(){throw new c.AlgoliaSearchError("Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com")}a(u,i),u.prototype.deleteIndex=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:t})},u.prototype.moveIndex=function(e,t,r){var n={operation:"move",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:n,hostType:"write",callback:r})},u.prototype.copyIndex=function(e,t,r,n){var o={operation:"copy",destination:t},s=n;if("function"==typeof r)s=r;else if(Array.isArray(r)&&r.length>0)o.scope=r;else if(void 0!==r)throw new Error("the scope given to `copyIndex` was not an array with settings, synonyms or rules");return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:o,hostType:"write",callback:s})},u.prototype.getLogs=function(e,t,n){var o=r(1),s={};return"object"==typeof e?(s=o(e),n=t):0===arguments.length||"function"==typeof e?n=e:1===arguments.length||"function"==typeof t?(n=t,s.offset=e):(s.offset=e,s.length=t),void 0===s.offset&&(s.offset=0),void 0===s.length&&(s.length=10),this._jsonRequest({method:"GET",url:"/1/logs?"+this._getSearchParams(s,""),hostType:"read",callback:n})},u.prototype.listIndexes=function(e,t){var r="";return void 0===e||"function"==typeof e?t=e:r="?page="+e,this._jsonRequest({method:"GET",url:"/1/indexes"+r,hostType:"read",callback:t})},u.prototype.initIndex=function(e){return new n(this,e)},u.prototype.listUserKeys=o(function(e){return this.listApiKeys(e)},s("client.listUserKeys()","client.listApiKeys()")),u.prototype.listApiKeys=function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},u.prototype.getUserKeyACL=o(function(e,t){return this.getApiKey(e,t)},s("client.getUserKeyACL()","client.getApiKey()")),u.prototype.getApiKey=function(e,t){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:t})},u.prototype.deleteUserKey=o(function(e,t){return this.deleteApiKey(e,t)},s("client.deleteUserKey()","client.deleteApiKey()")),u.prototype.deleteApiKey=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:t})},u.prototype.addUserKey=o(function(e,t,r){return this.addApiKey(e,t,r)},s("client.addUserKey()","client.addApiKey()")),u.prototype.addApiKey=function(e,t,n){if(!r(0)(e))throw new Error("Usage: client.addApiKey(arrayOfAcls[, params, callback])");1!==arguments.length&&"function"!=typeof t||(n=t,t=null);var o={acl:e};return t&&(o.validity=t.validity,o.maxQueriesPerIPPerHour=t.maxQueriesPerIPPerHour,o.maxHitsPerQuery=t.maxHitsPerQuery,o.indexes=t.indexes,o.description=t.description,t.queryParameters&&(o.queryParameters=this._getSearchParams(t.queryParameters,"")),o.referers=t.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:o,hostType:"write",callback:n})},u.prototype.addUserKeyWithValidity=o(function(e,t,r){return this.addApiKey(e,t,r)},s("client.addUserKeyWithValidity()","client.addApiKey()")),u.prototype.updateUserKey=o(function(e,t,r,n){return this.updateApiKey(e,t,r,n)},s("client.updateUserKey()","client.updateApiKey()")),u.prototype.updateApiKey=function(e,t,n,o){if(!r(0)(t))throw new Error("Usage: client.updateApiKey(key, arrayOfAcls[, params, callback])");2!==arguments.length&&"function"!=typeof n||(o=n,n=null);var s={acl:t};return n&&(s.validity=n.validity,s.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,s.maxHitsPerQuery=n.maxHitsPerQuery,s.indexes=n.indexes,s.description=n.description,n.queryParameters&&(s.queryParameters=this._getSearchParams(n.queryParameters,"")),s.referers=n.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+e,body:s,hostType:"write",callback:o})},u.prototype.startQueriesBatch=o(function(){this._batch=[]},s("client.startQueriesBatch()","client.search()")),u.prototype.addQueryInBatch=o(function(e,t,r){this._batch.push({indexName:e,query:t,params:r})},s("client.addQueryInBatch()","client.search()")),u.prototype.sendQueriesBatch=o(function(e){return this.search(this._batch,e)},s("client.sendQueriesBatch()","client.search()")),u.prototype.batch=function(e,t){if(!r(0)(e))throw new Error("Usage: client.batch(operations[, callback])");return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:e},hostType:"write",callback:t})},u.prototype.assignUserID=function(e,t){if(!e.userID||!e.cluster)throw new c.AlgoliaSearchError("You have to provide both a userID and cluster",e);return this._jsonRequest({method:"POST",url:"/1/clusters/mapping",hostType:"write",body:{cluster:e.cluster},callback:t,headers:{"X-Algolia-User-ID":e.userID}})},u.prototype.getTopUserID=function(e){return this._jsonRequest({method:"GET",url:"/1/clusters/mapping/top",hostType:"read",callback:e})},u.prototype.getUserID=function(e,t){if(!e.userID)throw new c.AlgoliaSearchError("You have to provide a userID",{debugData:e});return this._jsonRequest({method:"GET",url:"/1/clusters/mapping/"+e.userID,hostType:"read",callback:t})},u.prototype.listClusters=function(e){return this._jsonRequest({method:"GET",url:"/1/clusters",hostType:"read",callback:e})},u.prototype.listUserIDs=function(e,t){return this._jsonRequest({method:"GET",url:"/1/clusters/mapping",body:e,hostType:"read",callback:t})},u.prototype.removeUserID=function(e,t){if(!e.userID)throw new c.AlgoliaSearchError("You have to provide a userID",{debugData:e});return this._jsonRequest({method:"DELETE",url:"/1/clusters/mapping",hostType:"write",callback:t,headers:{"X-Algolia-User-ID":e.userID}})},u.prototype.searchUserIDs=function(e,t){return this._jsonRequest({method:"POST",url:"/1/clusters/mapping/search",body:e,hostType:"read",callback:t})},u.prototype.destroy=l,u.prototype.enableRateLimitForward=l,u.prototype.disableRateLimitForward=l,u.prototype.useSecuredAPIKey=l,u.prototype.disableSecuredAPIKey=l,u.prototype.generateSecuredApiKey=l},function(e,t,r){var n=r(2),o=r(44),s=r(16),i=r(17),a=r(47),c=r(6),u=s(function(){},i("forwardToSlaves","forwardToReplicas"));function l(){o.apply(this,arguments)}function p(e,t,r){return function r(n,o){var s={page:n||0,hitsPerPage:t||100},i=o||[];return e(s).then(function(e){var t=e.hits,n=e.nbHits,o=t.map(function(e){return delete e._highlightResult,e}),a=i.concat(o);return a.length<n?r(s.page+1,a):a})}().then(function(e){return"function"==typeof r&&r(e),e})}e.exports=l,n(l,o),l.prototype.addObject=function(e,t,r){return 1!==arguments.length&&"function"!=typeof t||(r=t,t=void 0),this.as._jsonRequest({method:void 0!==t?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+(void 0!==t?"/"+encodeURIComponent(t):""),body:e,hostType:"write",callback:r})},l.prototype.addObjects=function(e,t){if(!r(0)(e))throw new Error("Usage: index.addObjects(arrayOfObjects[, callback])");for(var n={requests:[]},o=0;o<e.length;++o){var s={action:"addObject",body:e[o]};n.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:n,hostType:"write",callback:t})},l.prototype.partialUpdateObject=function(e,t,r){1!==arguments.length&&"function"!=typeof t||(r=t,t=void 0);var n="/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial";return!1===t&&(n+="?createIfNotExists=false"),this.as._jsonRequest({method:"POST",url:n,body:e,hostType:"write",callback:r})},l.prototype.partialUpdateObjects=function(e,t,n){1!==arguments.length&&"function"!=typeof t||(n=t,t=!0);if(!r(0)(e))throw new Error("Usage: index.partialUpdateObjects(arrayOfObjects[, callback])");for(var o={requests:[]},s=0;s<e.length;++s){var i={action:!0===t?"partialUpdateObject":"partialUpdateObjectNoCreate",objectID:e[s].objectID,body:e[s]};o.requests.push(i)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:o,hostType:"write",callback:n})},l.prototype.saveObject=function(e,t){return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(e.objectID),body:e,hostType:"write",callback:t})},l.prototype.saveObjects=function(e,t){if(!r(0)(e))throw new Error("Usage: index.saveObjects(arrayOfObjects[, callback])");for(var n={requests:[]},o=0;o<e.length;++o){var s={action:"updateObject",objectID:e[o].objectID,body:e[o]};n.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:n,hostType:"write",callback:t})},l.prototype.deleteObject=function(e,t){if("function"==typeof e||"string"!=typeof e&&"number"!=typeof e){var r=new c.AlgoliaSearchError("Cannot delete an object without an objectID");return"function"==typeof(t=e)?t(r):this.as._promise.reject(r)}return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(e),hostType:"write",callback:t})},l.prototype.deleteObjects=function(e,t){var n=r(0),o=r(7);if(!n(e))throw new Error("Usage: index.deleteObjects(arrayOfObjectIDs[, callback])");var s={requests:o(e,function(e){return{action:"deleteObject",objectID:e,body:{objectID:e}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:s,hostType:"write",callback:t})},l.prototype.deleteByQuery=s(function(e,t,n){var o=r(1),s=r(7),i=this,c=i.as;1===arguments.length||"function"==typeof t?(n=t,t={}):t=o(t),t.attributesToRetrieve="objectID",t.hitsPerPage=1e3,t.distinct=!1,this.clearCache();var u=this.search(e,t).then(function(e){if(0===e.nbHits)return e;var t=s(e.hits,function(e){return e.objectID});return i.deleteObjects(t).then(l).then(p)});function l(e){return i.waitTask(e.taskID)}function p(){return i.deleteByQuery(e,t)}if(!n)return u;u.then(function(){a(function(){n(null)},c._setTimeout||setTimeout)},function(e){a(function(){n(e)},c._setTimeout||setTimeout)})},i("index.deleteByQuery()","index.deleteBy()")),l.prototype.deleteBy=function(e,t){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/deleteByQuery",body:{params:this.as._getSearchParams(e,"")},hostType:"write",callback:t})},l.prototype.browseAll=function(e,t){"object"==typeof e&&(t=e,e=void 0);var n=r(45),o=new(r(124)),s=this.as,i=this,a=s._getSearchParams(n({},t||{},{query:e}),"");function c(e){var t;o._stopped||(t=void 0!==e?{cursor:e}:{params:a},s._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/browse",hostType:"read",body:t,callback:u}))}function u(e,t){o._stopped||(e?o._error(e):(o._result(t),void 0!==t.cursor?c(t.cursor):o._end()))}return c(),o},l.prototype.ttAdapter=s(function(e){var t=this;return function(r,n,o){var s;s="function"==typeof o?o:n,t.search(r,e,function(e,t){s(e||t.hits)})}},"ttAdapter is not necessary anymore and will be removed in the next version,\nhave a look at autocomplete.js (https://github.com/algolia/autocomplete.js)"),l.prototype.waitTask=function(e,t){var r=100,n=5e3,o=0,s=this,i=s.as,c=function t(){return i._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/task/"+e}).then(function(e){var s=r*++o*o;return s>n&&(s=n),"published"!==e.status?i._promise.delay(s).then(t):e})}();if(!t)return c;c.then(function(e){a(function(){t(null,e)},i._setTimeout||setTimeout)},function(e){a(function(){t(e)},i._setTimeout||setTimeout)})},l.prototype.clearIndex=function(e){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/clear",hostType:"write",callback:e})},l.prototype.getSettings=function(e){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/settings?getVersion=2",hostType:"read",callback:e})},l.prototype.searchSynonyms=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/search",body:e,hostType:"read",callback:t})},l.prototype.exportSynonyms=function(e,t){return p(this.searchSynonyms,e,t)},l.prototype.saveSynonym=function(e,t,r){"function"==typeof t?(r=t,t={}):void 0===t&&(t={}),void 0!==t.forwardToSlaves&&u();var n=t.forwardToSlaves||t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e.objectID)+"?forwardToReplicas="+n,body:e,hostType:"write",callback:r})},l.prototype.getSynonym=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e),hostType:"read",callback:t})},l.prototype.deleteSynonym=function(e,t,r){"function"==typeof t?(r=t,t={}):void 0===t&&(t={}),void 0!==t.forwardToSlaves&&u();var n=t.forwardToSlaves||t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e)+"?forwardToReplicas="+n,hostType:"write",callback:r})},l.prototype.clearSynonyms=function(e,t){"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),void 0!==e.forwardToSlaves&&u();var r=e.forwardToSlaves||e.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/clear?forwardToReplicas="+r,hostType:"write",callback:t})},l.prototype.batchSynonyms=function(e,t,r){"function"==typeof t?(r=t,t={}):void 0===t&&(t={}),void 0!==t.forwardToSlaves&&u();var n=t.forwardToSlaves||t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/batch?forwardToReplicas="+n+"&replaceExistingSynonyms="+(t.replaceExistingSynonyms?"true":"false"),hostType:"write",body:e,callback:r})},l.prototype.searchRules=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/search",body:e,hostType:"read",callback:t})},l.prototype.exportRules=function(e,t){return p(this.searchRules,e,t)},l.prototype.saveRule=function(e,t,r){"function"==typeof t?(r=t,t={}):void 0===t&&(t={});var n=!0===t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/"+encodeURIComponent(e.objectID)+"?forwardToReplicas="+n,body:e,hostType:"write",callback:r})},l.prototype.getRule=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/"+encodeURIComponent(e),hostType:"read",callback:t})},l.prototype.deleteRule=function(e,t,r){"function"==typeof t?(r=t,t={}):void 0===t&&(t={});var n=!0===t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/"+encodeURIComponent(e)+"?forwardToReplicas="+n,hostType:"write",callback:r})},l.prototype.clearRules=function(e,t){"function"==typeof e?(t=e,e={}):void 0===e&&(e={});var r=!0===e.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/clear?forwardToReplicas="+r,hostType:"write",callback:t})},l.prototype.batchRules=function(e,t,r){"function"==typeof t?(r=t,t={}):void 0===t&&(t={});var n=!0===t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/batch?forwardToReplicas="+n+"&clearExistingRules="+(!0===t.clearExistingRules?"true":"false"),hostType:"write",body:e,callback:r})},l.prototype.setSettings=function(e,t,r){1!==arguments.length&&"function"!=typeof t||(r=t,t={}),void 0!==t.forwardToSlaves&&u();var n=t.forwardToSlaves||t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/settings?forwardToReplicas="+n,hostType:"write",body:e,callback:r})},l.prototype.listUserKeys=s(function(e){return this.listApiKeys(e)},i("index.listUserKeys()","index.listApiKeys()")),l.prototype.listApiKeys=function(e){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",hostType:"read",callback:e})},l.prototype.getUserKeyACL=s(function(e,t){return this.getApiKey(e,t)},i("index.getUserKeyACL()","index.getApiKey()")),l.prototype.getApiKey=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+e,hostType:"read",callback:t})},l.prototype.deleteUserKey=s(function(e,t){return this.deleteApiKey(e,t)},i("index.deleteUserKey()","index.deleteApiKey()")),l.prototype.deleteApiKey=function(e,t){return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+e,hostType:"write",callback:t})},l.prototype.addUserKey=s(function(e,t,r){return this.addApiKey(e,t,r)},i("index.addUserKey()","index.addApiKey()")),l.prototype.addApiKey=function(e,t,n){if(!r(0)(e))throw new Error("Usage: index.addApiKey(arrayOfAcls[, params, callback])");1!==arguments.length&&"function"!=typeof t||(n=t,t=null);var o={acl:e};return t&&(o.validity=t.validity,o.maxQueriesPerIPPerHour=t.maxQueriesPerIPPerHour,o.maxHitsPerQuery=t.maxHitsPerQuery,o.description=t.description,t.queryParameters&&(o.queryParameters=this.as._getSearchParams(t.queryParameters,"")),o.referers=t.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:o,hostType:"write",callback:n})},l.prototype.addUserKeyWithValidity=s(function(e,t,r){return this.addApiKey(e,t,r)},i("index.addUserKeyWithValidity()","index.addApiKey()")),l.prototype.updateUserKey=s(function(e,t,r,n){return this.updateApiKey(e,t,r,n)},i("index.updateUserKey()","index.updateApiKey()")),l.prototype.updateApiKey=function(e,t,n,o){if(!r(0)(t))throw new Error("Usage: index.updateApiKey(key, arrayOfAcls[, params, callback])");2!==arguments.length&&"function"!=typeof n||(o=n,n=null);var s={acl:t};return n&&(s.validity=n.validity,s.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,s.maxHitsPerQuery=n.maxHitsPerQuery,s.description=n.description,n.queryParameters&&(s.queryParameters=this.as._getSearchParams(n.queryParameters,"")),s.referers=n.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+e,body:s,hostType:"write",callback:o})}},function(e,t,r){e.exports=function(e,t){var n=r(46),o={};return r(3)(n(e),function(r){!0!==t(r)&&(o[r]=e[r])}),o}},function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},function(e,t,r){"use strict";function n(){}e.exports=n,r(2)(n,r(11).EventEmitter),n.prototype.stop=function(){this._stopped=!0,this._clean()},n.prototype._end=function(){this.emit("end"),this._clean()},n.prototype._error=function(e){this.emit("error",e),this._clean()},n.prototype._result=function(e){this.emit("result",e)},n.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},function(e,t,r){e.exports=c;var n=r(6),o=r(47),s=r(44),i=r(126),a=process.env.RESET_APP_DATA_TIMER&&parseInt(process.env.RESET_APP_DATA_TIMER,10)||12e4;function c(e,t,o){var s=r(10)("algoliasearch"),i=r(1),a=r(0),c=r(7),l="Usage: algoliasearch(applicationID, apiKey, opts)";if(!0!==o._allowEmptyCredentials&&!e)throw new n.AlgoliaSearchError("Please provide an application ID. "+l);if(!0!==o._allowEmptyCredentials&&!t)throw new n.AlgoliaSearchError("Please provide an API key. "+l);this.applicationID=e,this.apiKey=t,this.hosts={read:[],write:[]};var p=(o=o||{}).protocol||"https:";if(this._timeouts=o.timeouts||{connect:1e3,read:2e3,write:3e4},o.timeout&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=o.timeout),/:$/.test(p)||(p+=":"),"http:"!==o.protocol&&"https:"!==o.protocol)throw new n.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+o.protocol+"`)");if(this._checkAppIdData(),o.hosts)a(o.hosts)?(this.hosts.read=i(o.hosts),this.hosts.write=i(o.hosts)):(this.hosts.read=i(o.hosts.read),this.hosts.write=i(o.hosts.write));else{var f=c(this._shuffleResult,function(t){return e+"-"+t+".algolianet.com"});this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(f),this.hosts.write=[this.applicationID+".algolia.net"].concat(f)}this.hosts.read=c(this.hosts.read,u(p)),this.hosts.write=c(this.hosts.write,u(p)),this.extraHeaders={},this.cache=o._cache||{},this._ua=o._ua,this._useCache=!(void 0!==o._useCache&&!o._cache)||o._useCache,this._useFallback=void 0===o.useFallback||o.useFallback,this._setTimeout=o._setTimeout,s("init done, %j",this)}function u(e){return function(t){return e+"//"+t.toLowerCase()}}function l(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var r=JSON.stringify(e);return Array.prototype.toJSON=t,r}function p(e){var t={};for(var r in e){var n;if(Object.prototype.hasOwnProperty.call(e,r))n="x-algolia-api-key"===r||"x-algolia-application-id"===r?"**hidden for security purposes**":e[r],t[r]=n}return t}c.prototype.initIndex=function(e){return new s(this,e)},c.prototype.setExtraHeader=function(e,t){this.extraHeaders[e.toLowerCase()]=t},c.prototype.getExtraHeader=function(e){return this.extraHeaders[e.toLowerCase()]},c.prototype.unsetExtraHeader=function(e){delete this.extraHeaders[e.toLowerCase()]},c.prototype.addAlgoliaAgent=function(e){-1===this._ua.indexOf(";"+e)&&(this._ua+=";"+e)},c.prototype._jsonRequest=function(e){this._checkAppIdData();var t,s,i=r(10)("algoliasearch:"+e.url),a=e.additionalUA||"",c=e.cache,u=this,f=0,h=!1,d=u._useFallback&&u._request.fallback&&e.fallback;this.apiKey.length>500&&void 0!==e.body&&(void 0!==e.body.params||void 0!==e.body.requests)?(e.body.apiKey=this.apiKey,s=this._computeRequestHeaders({additionalUA:a,withApiKey:!1,headers:e.headers})):s=this._computeRequestHeaders({additionalUA:a,headers:e.headers}),void 0!==e.body&&(t=l(e.body)),i("request start");var y=[];var m=function r(o,m){u._checkAppIdData();var v,g=new Date;if(u._useCache&&(v=e.url),u._useCache&&t&&(v+="_body_"+m.body),u._useCache&&c&&void 0!==c[v])return i("serving response from cache"),u._promise.resolve(JSON.parse(c[v]));if(f>=u.hosts[e.hostType].length)return!d||h?(i("could not get any response"),u._promise.reject(new n.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+u.applicationID,{debugData:y}))):(i("switching to fallback"),f=0,m.method=e.fallback.method,m.url=e.fallback.url,m.jsonBody=e.fallback.body,m.jsonBody&&(m.body=l(m.jsonBody)),s=u._computeRequestHeaders({additionalUA:a,headers:e.headers}),m.timeouts=u._getTimeoutsForRequest(e.hostType),u._setHostIndexByType(0,e.hostType),h=!0,r(u._request.fallback,m));var b=u._getHostByType(e.hostType),x=b+m.url,w={body:m.body,jsonBody:m.jsonBody,method:m.method,headers:s,timeouts:m.timeouts,debug:i};return i("method: %s, url: %s, headers: %j, timeouts: %d",w.method,x,w.headers,w.timeouts),o===u._request.fallback&&i("using fallback"),o.call(u,x,w).then(function(e){var r=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;i("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,r,e.headers);var o=2===Math.floor(r/100),a=new Date;if(y.push({currentHost:b,headers:p(s),content:t||null,contentLength:void 0!==t?t.length:null,method:m.method,timeouts:m.timeouts,url:m.url,startTime:g,endTime:a,duration:a-g,statusCode:r}),o)return u._useCache&&c&&(c[v]=e.responseText),e.body;if(4!==Math.floor(r/100))return f+=1,k();i("unrecoverable error");var l=new n.AlgoliaSearchError(e.body&&e.body.message,{debugData:y,statusCode:r});return u._promise.reject(l)},function(a){i("error: %s, stack: %s",a.message,a.stack);var c=new Date;return y.push({currentHost:b,headers:p(s),content:t||null,contentLength:void 0!==t?t.length:null,method:m.method,timeouts:m.timeouts,url:m.url,startTime:g,endTime:c,duration:c-g}),a instanceof n.AlgoliaSearchError||(a=new n.Unknown(a&&a.message,a)),f+=1,a instanceof n.Unknown||a instanceof n.UnparsableJSON||f>=u.hosts[e.hostType].length&&(h||!d)?(a.debugData=y,u._promise.reject(a)):a instanceof n.RequestTimeout?(i("retrying request with higher timeout"),u._incrementHostIndex(e.hostType),u._incrementTimeoutMultipler(),m.timeouts=u._getTimeoutsForRequest(e.hostType),r(o,m)):k()});function k(){return i("retrying request"),u._incrementHostIndex(e.hostType),r(o,m)}}(u._request,{url:e.url,method:e.method,body:t,jsonBody:e.body,timeouts:u._getTimeoutsForRequest(e.hostType)});if("function"!=typeof e.callback)return m;m.then(function(t){o(function(){e.callback(null,t)},u._setTimeout||setTimeout)},function(t){o(function(){e.callback(t)},u._setTimeout||setTimeout)})},c.prototype._getSearchParams=function(e,t){if(void 0===e||null===e)return t;for(var r in e)null!==r&&void 0!==e[r]&&e.hasOwnProperty(r)&&(t+=""===t?"":"&",t+=r+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[r])?l(e[r]):e[r]));return t},c.prototype._computeRequestHeaders=function(e){var t=r(3),n={"x-algolia-agent":e.additionalUA?this._ua+";"+e.additionalUA:this._ua,"x-algolia-application-id":this.applicationID};return!1!==e.withAPIKey&&(n["x-algolia-api-key"]=this.apiKey),this.userToken&&(n["x-algolia-usertoken"]=this.userToken),this.securityTags&&(n["x-algolia-tagfilters"]=this.securityTags),t(this.extraHeaders,function(e,t){n[t]=e}),e.headers&&t(e.headers,function(e,t){n[t]=e}),n},c.prototype.search=function(e,t,n){var o=r(0),s=r(7);if(!o(e))throw new Error("Usage: client.search(arrayOfQueries[, callback])");"function"==typeof t?(n=t,t={}):void 0===t&&(t={});var i=this,a={requests:s(e,function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:i._getSearchParams(e.params,t)}})},c=s(a.requests,function(e,t){return t+"="+encodeURIComponent("/1/indexes/"+encodeURIComponent(e.indexName)+"?"+e.params)}).join("&"),u="/1/indexes/*/queries";return void 0!==t.strategy&&(u+="?strategy="+t.strategy),this._jsonRequest({cache:this.cache,method:"POST",url:u,body:a,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:c}},callback:n})},c.prototype.setSecurityTags=function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],r=0;r<e.length;++r)if("[object Array]"===Object.prototype.toString.call(e[r])){for(var n=[],o=0;o<e[r].length;++o)n.push(e[r][o]);t.push("("+n.join(",")+")")}else t.push(e[r]);e=t.join(",")}this.securityTags=e},c.prototype.setUserToken=function(e){this.userToken=e},c.prototype.clearCache=function(){this.cache={}},c.prototype.setRequestTimeout=function(e){e&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=e)},c.prototype.setTimeouts=function(e){this._timeouts=e},c.prototype.getTimeouts=function(){return this._timeouts},c.prototype._getAppIdData=function(){var e=i.get(this.applicationID);return null!==e&&this._cacheAppIdData(e),e},c.prototype._setAppIdData=function(e){return e.lastChange=(new Date).getTime(),this._cacheAppIdData(e),i.set(this.applicationID,e)},c.prototype._checkAppIdData=function(){var e=this._getAppIdData(),t=(new Date).getTime();return null===e||t-e.lastChange>a?this._resetInitialAppIdData(e):e},c.prototype._resetInitialAppIdData=function(e){var t=e||{};return t.hostIndexes={read:0,write:0},t.timeoutMultiplier=1,t.shuffleResult=t.shuffleResult||function(e){var t,r,n=e.length;for(;0!==n;)r=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[r],e[r]=t;return e}([1,2,3]),this._setAppIdData(t)},c.prototype._cacheAppIdData=function(e){this._hostIndexes=e.hostIndexes,this._timeoutMultiplier=e.timeoutMultiplier,this._shuffleResult=e.shuffleResult},c.prototype._partialAppIdDataUpdate=function(e){var t=r(3),n=this._getAppIdData();return t(e,function(e,t){n[t]=e}),this._setAppIdData(n)},c.prototype._getHostByType=function(e){return this.hosts[e][this._getHostIndexByType(e)]},c.prototype._getTimeoutMultiplier=function(){return this._timeoutMultiplier},c.prototype._getHostIndexByType=function(e){return this._hostIndexes[e]},c.prototype._setHostIndexByType=function(e,t){var n=r(1)(this._hostIndexes);return n[t]=e,this._partialAppIdDataUpdate({hostIndexes:n}),e},c.prototype._incrementHostIndex=function(e){return this._setHostIndexByType((this._getHostIndexByType(e)+1)%this.hosts[e].length,e)},c.prototype._incrementTimeoutMultipler=function(){var e=Math.max(this._timeoutMultiplier+1,4);return this._partialAppIdDataUpdate({timeoutMultiplier:e})},c.prototype._getTimeoutsForRequest=function(e){return{connect:this._timeouts.connect*this._timeoutMultiplier,complete:this._timeouts[e]*this._timeoutMultiplier}}},function(e,t,r){var n,o=r(10)("algoliasearch:src/hostIndexState.js"),s="algoliasearch-client-js",i={state:{},set:function(e,t){return this.state[e]=t,this.state[e]},get:function(e){return this.state[e]||null}},a={set:function(e,t){i.set(e,t);try{var r=JSON.parse(global.localStorage[s]);return r[e]=t,global.localStorage[s]=JSON.stringify(r),r[e]}catch(t){return c(e,t)}},get:function(e){try{return JSON.parse(global.localStorage[s])[e]||null}catch(t){return c(e,t)}}};function c(e,t){return o("localStorage failed with",t),function(){try{global.localStorage.removeItem(s)}catch(e){}}(),(n=i).get(e)}function u(e,t){return 1===arguments.length?n.get(e):n.set(e,t)}function l(){try{return"localStorage"in global&&null!==global.localStorage&&(global.localStorage[s]||global.localStorage.setItem(s,JSON.stringify({})),!0)}catch(e){return!1}}n=l()?a:i,e.exports={get:u,set:u,supportsLocalStorage:l}},function(e,t,r){e.exports=function(e,t){var r=n(e),o=0,s=e[0],i=this;2===arguments.length?o=1:3===arguments.length?s=arguments[2]:arguments.length>=4&&(i=arguments[2],s=arguments[3]);for(var a=r.length;o<a;o++){var c=r[o],u=e[c];s=t.call(i,s,u,c,e)}return s};var n=r(46)},function(e,t,r){"use strict";e.exports="3.24.8"},function(e,t,r){"use strict";e.exports=function(e){var t;if("http:"!==e&&"https:"!==e)throw new Error("get-agent: `protocol` must be `http:` or `https:`");var n=function(){var e=r(48),t=process.env.HTTP_PROXY||process.env.HTTPS_PROXY||"";return e.parse(t)}();t=n.protocol?function(e,t){var n=r(132),o={maxSockets:1/0,proxy:{host:t.hostname,port:parseInt(t.port,10),proxyAuth:t.auth}},s=e.replace(":","")+"Over"+t.protocol.replace(":","").replace("h","H"),i=new n[s](o);return i.destroy=function(){this.sockets.forEach(function(e){e.destroy()})},i}(e,n):function(e){var t,n=r(18),o=r(8),s=r(49).HttpsAgent,i=r(49);r(42).satisfies(process.version,"<0.11.4")?"http:"===e?t=new i({maxSockets:1/0}):"https:"===e&&(t=new s({maxSockets:1/0})):"http:"===e?t=new n.Agent({keepAlive:!0,maxSockets:1/0}):"https:"===e&&(t=new o.Agent({keepAlive:!0,maxSockets:1/0}));return t}(e);return t}},function(e,t,r){"use strict";var n=r(15),o=r(5),s=r(11).EventEmitter,i=r(19).debug;function a(e){if(!(this instanceof a))return new a(e);s.call(this);var t=this;t.defaultPort=80,t.protocol="http:",t.options=o._extend({},e),t.options.path=null,t.requests={},t.sockets={},t.freeSockets={},t.keepAliveMsecs=t.options.keepAliveMsecs||1e3,t.keepAlive=t.options.keepAlive||!1,t.keepAliveTimeout=t.options.keepAliveTimeout||0,t.timeout=t.options.timeout||0,t.maxSockets=t.options.maxSockets||a.defaultMaxSockets,t.maxFreeSockets=t.options.maxFreeSockets||256,t.on("free",function(e,r){var n=t.getName(r);if(i("agent.on(free)",n),!e.destroyed&&t.requests[n]&&t.requests[n].length)t.requests[n].shift().onSocket(e),0===t.requests[n].length&&delete t.requests[n],i("continue handle next request");else{var o=e._httpMessage;if(o&&o.shouldKeepAlive&&!e.destroyed&&t.options.keepAlive){var s=t.freeSockets[n],a=s?s.length:0,u=a;t.sockets[n]&&(u+=t.sockets[n].length),u>t.maxSockets||a>=t.maxFreeSockets?(t.removeSocket(e,r),e.destroy()):(s=s||[],t.freeSockets[n]=s,e.setKeepAlive(!0,t.keepAliveMsecs),e.unref&&e.unref(),e._httpMessage=null,t.removeSocket(e,r),s.push(e),0===e.listeners("error").length&&e.once("error",c),e.setTimeout(t.keepAliveTimeout))}else t.removeSocket(e,r),e.destroy()}})}function c(e){i("SOCKET ERROR on FREE socket:",e.message,e.stack),this.destroy(),this.emit("agentRemove")}o.inherits(a,s),t.Agent=a,a.defaultMaxSockets=1/0,a.prototype.createConnection=n.createConnection,a.prototype.getName=function(e){var t="";return e.host?t+=e.host:t+="localhost",t+=":",e.port&&(t+=e.port),t+=":",e.localAddress&&(t+=e.localAddress),t+=":"},a.prototype.addRequest=function(e,t){"string"==typeof t&&(t={host:t,port:arguments[2],path:arguments[3]}),t=o._extend({},t),t=o._extend(t,this.options);var r=this.getName(t);this.sockets[r]||(this.sockets[r]=[]);var n=this.freeSockets[r]?this.freeSockets[r].length:0,s=n+this.sockets[r].length;if(n){var a=this.freeSockets[r].shift();i("have free socket"),a.removeListener("error",c),a.setTimeout(this.timeout),this.freeSockets[r].length||delete this.freeSockets[r],a.ref&&a.ref(),e.onSocket(a),this.sockets[r].push(a)}else s<this.maxSockets?(i("call onSocket",s,n),e.onSocket(this.createSocket(e,t))):(i("wait for socket"),this.requests[r]||(this.requests[r]=[]),this.requests[r].push(e))},a.prototype.createSocket=function(e,t){var r=this;if(t=o._extend({},t),!(t=o._extend(t,r.options)).servername&&(t.servername=t.host,e)){var n=e.getHeader("host");n&&(t.servername=n.replace(/:.*$/,""))}var s=r.getName(t);i("createConnection",s,t),t.encoding=null;var a=r.createConnection(t);function c(){r.emit("free",a,t)}function u(e){i("CLIENT socket onClose"),"boolean"!=typeof a.destroyed&&(a.destroyed=!0),r.removeSocket(a,t),r.emit("close")}function l(){i("CLIENT socket onTimeout"),a.destroy(),r.removeSocket(a,t),r.emit("timeout")}return r.sockets[s]||(r.sockets[s]=[]),this.sockets[s].push(a),i("sockets",s,this.sockets[s].length),a.on("free",c),a.on("close",u),a.on("timeout",l),a.setTimeout(r.timeout),a.on("agentRemove",function e(){i("CLIENT socket onRemove"),r.removeSocket(a,t),a.removeListener("close",u),a.removeListener("free",c),a.removeListener("agentRemove",e),a.setTimeout(0,l)}),a},a.prototype.removeSocket=function(e,t){var r,n=this.getName(t);i("removeSocket",n,"destroyed:",e.destroyed);var o=[this.sockets];e.destroyed&&o.push(this.freeSockets);for(var s=0;s<o.length;s++){var a=o[s];if(a[n]){var c=a[n].indexOf(e);-1!==c&&(a[n].splice(c,1),0===a[n].length&&delete a[n])}}if(r=(this.freeSockets[n]?this.freeSockets[n].length:0)+this.sockets[n]?this.sockets[n].length:0,this.requests[n]&&this.requests[n].length&&r<this.maxSockets){i("removeSocket, have a request, make a socket");var u=this.requests[n][0];this.createSocket(u,t).emit("free")}},a.prototype.destroy=function(){for(var e=[this.freeSockets,this.sockets],t=0;t<e.length;t++)for(var r=e[t],n=Object.keys(r),o=0;o<n.length;o++)for(var s=r[n[o]],i=0;i<s.length;i++)s[i].destroy()},t.globalAgent=new a},function(e,t,r){"use strict";var n,o=r(8),s=r(19),i=r(50),a=o.Agent;s.isNode10?(n=function(e){i.call(this,e),this.defaultPort=443,this.protocol="https:"},s.inherits(n,i),n.prototype.createConnection=o.globalAgent.createConnection,n.prototype.getName=function(e){var t=i.prototype.getName.call(this,e);return t+=":",e.ca&&(t+=e.ca),t+=":",e.cert&&(t+=e.cert),t+=":",e.ciphers&&(t+=e.ciphers),t+=":",e.key&&(t+=e.key),t+=":",e.pfx&&(t+=e.pfx),t+=":",void 0!==e.rejectUnauthorized&&(t+=e.rejectUnauthorized),t}):(n=function(e){i.call(this,e),this.defaultPort=443,this.protocol="https:",this.maxCachedSessions=this.options.maxCachedSessions,void 0===this.maxCachedSessions&&(this.maxCachedSessions=100),this._sessionCache={map:{},list:[]}},s.inherits(n,i),["createConnection","getName","_getSession","_cacheSession","_evictSession"].forEach(function(e){"function"==typeof a.prototype[e]&&(n.prototype[e]=a.prototype[e])})),e.exports=n},function(e,t,r){"use strict";r(15);var n,o=r(133),s=r(18),i=r(8),a=r(11),c=r(134),u=r(5),l=r(135).Buffer;function p(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||s.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(e,r,n){for(var o=0,s=t.requests.length;o<s;++o){var i=t.requests[o];if(i.host===r&&i.port===n)return t.requests.splice(o,1),void i.request.onSocket(e)}e.destroy(),t.removeSocket(e)})}function f(e,t){var r=this;p.prototype.createSocket.call(r,e,function(n){var s=o.connect(0,h({},r.options,{servername:e.host,socket:n}));r.sockets[r.sockets.indexOf(n)]=s,t(s)})}function h(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if("object"==typeof n)for(var o=Object.keys(n),s=0,i=o.length;s<i;++s){var a=o[s];void 0!==n[a]&&(e[a]=n[a])}}return e}t.httpOverHttp=function(e){var t=new p(e);return t.request=s.request,t},t.httpsOverHttp=function(e){var t=new p(e);return t.request=s.request,t.createSocket=f,t.defaultPort=443,t},t.httpOverHttps=function(e){var t=new p(e);return t.request=i.request,t},t.httpsOverHttps=function(e){var t=new p(e);return t.request=i.request,t.createSocket=f,t.defaultPort=443,t},u.inherits(p,a.EventEmitter),p.prototype.addRequest=function(e,t){"string"==typeof t&&(t={host:t,port:arguments[2],path:arguments[3]}),this.sockets.length>=this.maxSockets?this.requests.push({host:t.host,port:t.port,request:e}):this.createConnection({host:t.host,port:t.port,request:e})},p.prototype.createConnection=function(e){var t=this;t.createSocket(e,function(r){function n(){t.emit("free",r,e.host,e.port)}function o(e){t.removeSocket(r),r.removeListener("free",n),r.removeListener("close",o),r.removeListener("agentRemove",o)}r.on("free",n),r.on("close",o),r.on("agentRemove",o),e.request.onSocket(r)})},p.prototype.createSocket=function(e,t){var r=this,o={};r.sockets.push(o);var s=h({},r.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1});s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+l.from(s.proxyAuth).toString("base64")),n("making CONNECT request");var i=r.request(s);function a(s,a,u){if(i.removeAllListeners(),a.removeAllListeners(),200===s.statusCode)c.equal(u.length,0),n("tunneling connection has established"),r.sockets[r.sockets.indexOf(o)]=a,t(a);else{n("tunneling socket could not be established, statusCode=%d",s.statusCode);var l=new Error("tunneling socket could not be established, statusCode="+s.statusCode);l.code="ECONNRESET",e.request.emit("error",l),r.removeSocket(o)}}i.useChunkedEncodingByDefault=!1,i.once("response",function(e){e.upgrade=!0}),i.once("upgrade",function(e,t,r){process.nextTick(function(){a(e,t,r)})}),i.once("connect",a),i.once("error",function(t){i.removeAllListeners(),n("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var s=new Error("tunneling socket could not be established, cause="+t.message);s.code="ECONNRESET",e.request.emit("error",s),r.removeSocket(o)}),i.end()},p.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var r=this.requests.shift();r&&this.createConnection(r)}},n=process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);"string"==typeof e[0]?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:function(){},t.debug=n},function(e,t){e.exports=require("tls")},function(e,t){e.exports=require("assert")},function(e,t,r){var n=r(136),o=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function i(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=i),s(o,i),i.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},i.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t){e.exports=require("buffer")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new(function(e){return e&&e.__esModule?e:{default:e}}(r(11)).default);t.default=n}]);